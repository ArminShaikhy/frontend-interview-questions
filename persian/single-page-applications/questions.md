### 1. چرا برنامه‌های تک‌صفحه‌ای (SPA) توسعه داده شدند و چه مشکلاتی را نسبت به برنامه‌های چندصفحه‌ای (MPA) حل کردند؟

SPAها با به‌روزرسانی پویا رابط کاربری از طریق جاوااسکریپت سمت کلاینت، نیاز به بارگذاری کامل صفحه را کاهش می‌دهند. این کار مشکلات تأخیر و تجربه کاربری ضعیف در MPAها را حل می‌کند، جایی که هر بار جابه‌جایی نیازمند درخواست کامل به سرور و رندر مجدد DOM بود.

<br />

### 2. چه زمینه تاریخی (مثل قابلیت‌های مرورگر یا پیشرفت‌های جاوااسکریپت) باعث ظهور SPAها در توسعه وب شد؟

ظهور SPAها هم‌زمان شد با:

- پیشرفت AJAX (مثل XMLHttpRequest و بعدتر `fetch`)
- موتورهای مدرن JS مثل V8 و Chakra که اجرای منطق سنگین در سمت کلاینت را ممکن کردند
- نیاز به تجربه کاربری سریع‌تر و شبیه دسکتاپ در مرورگرها (مثل Gmail)

<br />

### 3. چطور می‌توان مزایا و معایب SPA نسبت به MPA را برای افراد غیر فنی توضیح داد؟

SPAها سریع‌تر به‌نظر می‌رسند چون فقط بخش‌هایی از صفحه را به‌روزرسانی می‌کنند. ولی در MPAها کل صفحه دوباره بارگذاری می‌شود که می‌تواند حس کندی بدهد. SPAها بعد از بارگذاری اولیه، زمان انتظار را کاهش می‌دهند اما نیاز به تلاش بیشتر برای سئو و عملکرد دارند.

<br />

### 4. چه مزایای کلیدی باعث توسعه SPAها شدند و این مزایا چطور با نیازهای مدرن وب هماهنگ هستند؟

- تجربه کاربری یکپارچه (بدون رفرش)
- عملکرد بهتر از دید کاربر
- ایجاد راحت‌تر تجربه‌های شبیه موبایل
- جداسازی فرانت‌اند و بک‌اند

<br />

### 5. محدودیت‌های MPAهای سنتی (مثل رفرش صفحه و تأخیر) چطور بر طراحی SPAها تأثیر گذاشتند؟

MPAها مشکل تأخیر، رندر غیرضروری و تجربه کاربری نه‌چندان روان داشتند. SPAها وظیفه رندر را به مرورگر واگذار کردند تا انتقال بین صفحات فوری و تعاملات روان‌تر شود.

<br />

### 6. چرا SPAها تبدیل به انتخاب پیش‌فرض برای فریمورک‌هایی مثل React، Angular و Vue شدند؟

این فریمورک‌ها برای مدیریت پیچیدگی رابط کاربری طراحی شده‌اند و قابلیت رندر واکنشی و مبتنی بر وضعیت را فراهم می‌کنند — که برای SPAها ایده‌آل است. آن‌ها سیستم مسیریابی، گرفتن دیتا و مدل کامپوننتی دارند که با تجربه‌های تک‌صفحه‌ای سازگار است.

<br />

### 7. چطور می‌توان تصمیم گرفت که SPA برای پروژه‌ای مناسب‌تر از MPA است؟

از SPA استفاده کنید وقتی:

- نیاز به تعامل زیاد دارید (مثل داشبوردها)
- عملکرد پس از بارگذاری اولیه اهمیت دارد
- تجربه‌ای شبیه اپلیکیشن موبایل یا دسکتاپ می‌خواهید  
از SPAها در وب‌سایت‌های محتوامحور یا با اهمیت بالای سئو استفاده نکنید مگر اینکه SSR داشته باشید.

<br />

### 8. پیاده‌سازی‌های اولیه SPA چه چالش‌هایی داشتند و ابزارهای مدرن چطور آن‌ها را حل کرده‌اند؟

- سئو ضعیف (عدم رندر سمت سرور)
- زمان بارگذاری اولیه زیاد
- مشکلات تاریخچه مرورگر
- امنیت (در معرض بودن APIها)  
ابزارهای مدرن مثل Next.js، SSR، hydration و lazy loading بیشتر این مشکلات را حل کرده‌اند.

<br />

### 9. چطور تیمی را که با MPA کار کرده با مزایا و هدف SPA آشنا کنیم؟

- چرخه عمر و مسیریابی SPA را توضیح دهید
- مفاهیمی مثل hydration و lazy loading را معرفی کنید
- بر مدیریت وضعیت سمت کلاینت و طراحی کامپوننت‌محور تأکید کنید
- مثال‌های واقعی مثل React Router را بررسی کنید

<br />

### 10. نظرتان درباره مسیر تحول SPAها از گذشته تا امروز چیست و آینده این رویکرد را چطور می‌بینید؟

SPAها در حال تبدیل به **اپ‌های ترکیبی** هستند با:

- SSR/SSG (مثل Next.js)
- معماری جزیره‌ای (Islands architecture)
- hydration جزئی  
جهت‌گیری آینده بر عملکرد، سئو و تجربه توسعه‌دهنده تمرکز دارد.

<br />

### 11. مسیریابی در SPA چطور کار می‌کند و چه تفاوتی با مسیریابی سنتی سمت سرور دارد؟

- در SPA، مسیریابی **سمت کلاینت** با استفاده از History API (`pushState`) انجام می‌شود.
- در MPA، مسیریابی **سمت سرور** با درخواست HTTP است.  
در SPAها، کلیک روی لینک توسط router کنترل می‌شود و بدون رفرش، نمای مربوطه رندر می‌شود.

<br />

### 12. چطور در یک SPA با React و React Router مسیریابی سمت کلاینت پیاده‌سازی می‌کنید؟

```jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";

<BrowserRouter>
  <Routes>
    <Route path="/" element={<Home />} />
    <Route path="/dashboard" element={<Dashboard />} />
  </Routes>
</BrowserRouter>;
```

<br />

### 13. در یک SPA با React، چطور وضعیت را بین صفحات مختلف مدیریت می‌کنید؟

استفاده از:

- وضعیت سراسری (مثل Zustand، Redux)
- query param در URL برای وضعیت خاص هر صفحه
- استفاده از `localStorage` یا `sessionStorage` برای حفظ داده‌ها

<br />

### 14. چالش‌های مدیریت تاریخچه مرورگر و دکمه‌های back/forward در SPA چیست؟

- مدیریت درست back/forward بدون رفرش
- بازیابی موقعیت اسکرول
- deep linking و حفظ وضعیت صفحه

React Router با `<BrowserRouter>` و `useNavigate` بیشتر این‌ها را مدیریت می‌کند.

<br />

### 15. چطور عملکرد مسیریابی SPA را بهینه می‌کنید تا تأخیر در جابه‌جایی صفحات کاهش یابد؟

- **تقسیم کد** با `React.lazy` و `Suspense`
- **پیش‌بارگذاری** دیتا یا تکه‌های کد
- استفاده از `memo`، `useMemo` و `useCallback` برای جلوگیری از رندرهای غیرضروری

<br />

### 16. استراتژی شما برای مدیریت مسیرهای اشتباه یا 404 در SPA چیست؟

```jsx
<Route path="*" element={<NotFound />} />
```

از کامپوننت‌های جایگزین استفاده کنید و در صورت لزوم کاربران را به صفحات ایمن هدایت کنید.

<br />

### 17. چطور SSR را با مسیریابی SPA در React برای بهبود سئو ترکیب می‌کنید؟

از فریمورک‌هایی مثل **Next.js** استفاده کنید:

- صفحات را با `getServerSideProps` رندر کنید
- سئو را با `head` مناسب و محتوای پیش‌ساخته بهبود دهید

<br />

### 18. چطور مسیرهای محافظت‌شده در یک SPA با React پیاده‌سازی می‌کنید؟

از الگوی مسیر خصوصی استفاده کنید:

```jsx
const PrivateRoute = ({ children }) =>
  isAuthenticated ? children : <Navigate to="/login" />;
```

بررسی توکن، مدیریت سطح دسترسی و هدایت کاربران غیرمجاز را پیاده‌سازی کنید.

<br />

### 19. چطور منطق مسیریابی در یک SPA با React را تست می‌کنید تا از عملکرد درست آن در سناریوهای مختلف اطمینان حاصل کنید؟

استفاده از:

- **React Testing Library** برای شبیه‌سازی ناوبری
- **Cypress/Playwright** برای تست انتها به انتها
- Mock کردن پارامترها و تاریخچه

مثال:

```jsx
render(
  <MemoryRouter initialEntries={["/dashboard"]}>
    <App />
  </MemoryRouter>
);
```

<br />

### 20. در صورت بروز مشکل در مسیریابی SPA (مثل عدم انتقال صفحه یا رندر اشتباه)، چطور اشکال‌زدایی می‌کنید؟

- استفاده از **React DevTools** و ابزارهای مرورگر (network, console)
- بررسی وضعیت `window.history`
- بررسی پیکربندی مسیرها
- بررسی ایمپورت‌های داینامیک و مشکلات fallback یا render