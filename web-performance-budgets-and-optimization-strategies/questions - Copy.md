### 1. چگونه یک بودجه عملکرد را برای یک برنامه React تعریف و اعمال می‌کنید؟

**پاسخ:**

بودجه عملکرد مجموعه‌ای از محدودیت‌ها برای معیارهای کلیدی عملکرد است. من آن را در ابتدای پروژه بر اساس نیازهای کسب‌وکار و دستگاه‌های هدف با معیارهایی مانند موارد زیر تعریف می‌کنم:

- **نخستین رنگ‌آمیزی محتوا (FCP)** < 2 ثانیه
- **زمان تعاملی (TTI)** < 5 ثانیه
- **حجم کل جاوااسکریپت** < 170 کیلوبایت (فشرده‌شده)
- **حجم تصویر در هر مسیر** < 300 کیلوبایت

**ابزارهای اعمال:**

- `lighthouse-ci` برای آستانه‌های معیارها
- پیکربندی `performance` وب‌پک:

```json
performance: {
  maxEntrypointSize: 250000,
  maxAssetSize: 250000,
},



2. رویکرد شما برای ممیزی یک برنامه React در برابر بودجه عملکرد در طول توسعه چیست؟
پاسخ:
من از ابزارهای خودکار و دستی در جریان‌های توسعه استفاده می‌کنم:

Lighthouse (دستی یا در CI از طریق lighthouse-ci)
Webpack Bundle Analyzer برای ممیزی حجم جاوااسکریپت
React Profiler برای شناسایی رندرهای غیرضروری
Chrome DevTools برای TTI واقعی، تغییرات چیدمان

معیارها را در بررسی‌های PR ادغام می‌کنم تا پاسخگویی تضمین شود.


3. چگونه بین توسعه ویژگی‌ها و حفظ بودجه عملکرد در یک پروژه React تعادل برقرار می‌کنید؟
پاسخ:
تعادل از طریق حفاظ‌ها و اولویت‌ها:

تنظیم هشدارهای بودجه در CI تا رگرسیون‌های عملکرد زود ظاهر شوند
تشویق به تقسیم کد، بارگذاری تنبل و هیدراتاسیون تدریجی برای ویژگی‌های جدید
مشارکت دادن محصول در معاوضه‌های عملکرد در طول برنامه‌ریزی

من از عملکرد به‌عنوان یک نیاز غیرکارکردی دفاع می‌کنم، نه یک فکر بعدی.


4. استراتژی شما برای بهینه‌سازی اسکریپت‌های شخص ثالث در چارچوب بودجه عملکرد چیست؟
پاسخ:

ممیزی ضرورت هر اسکریپت (فقط از آنچه ارزش می‌افزاید استفاده کنید).
بارگذاری اسکریپت‌ها به‌صورت ناهمزمان یا تأخیری:

<script src="چت.js" async></script>


انتقال به ادغام‌های سمت سرور (مثل پروکسی تحلیل) در صورت امکان.
استفاده از Web Workers برای جداسازی کارهای سنگین از رشته اصلی.
بهره‌برداری از Subresource Integrity (SRI) و preconnect برای تحویل سریع‌تر.



5. چگونه بررسی‌های بودجه عملکرد را در خط لوله CI/CD برای یک برنامه React ادغام می‌کنید؟
پاسخ:

استفاده از lighthouse-ci در CI برای شکستن ساخت‌ها هنگام نقض بودجه‌ها:

lighthouse-ci:
  script: lhci autorun


افزودن بررسی‌های حجم بسته با ابزارهایی مثل size-limit:

"scripts": {
  "size-check": "size-limit"
}


ادغام ردیابی Web Vitals (از طریق @vercel/web-vitals) در تولید برای بینش‌های پس از استقرار.



6. رویکرد شما برای بهینه‌سازی تصاویر و دارایی‌ها در یک برنامه React برای رعایت بودجه عملکرد چیست؟
پاسخ:

ارائه تصاویر در فرمت‌های مدرن مثل WebP یا AVIF.
استفاده از srcset پاسخ‌گو برای رزولوشن‌های مختلف دستگاه.
بارگذاری تنبل تصاویر با loading="lazy" یا react-lazyload.
استفاده از ابزارهایی مثل image-webpack-loader:

{
  loader: 'image-webpack-loader',
  options: { mozjpeg: { progressive: true } }
}


برای سایت‌های استاتیک، ابزارهایی مثل Next.js Image Component اکثر این موارد را به‌صورت خودکار مدیریت می‌کنند.



7. چگونه زمان تعاملی (TTI) را در یک برنامه React اندازه‌گیری و بهبود می‌دهید؟
پاسخ:

اندازه‌گیری با Lighthouse، WebPageTest و نظارت واقعی کاربر (RUM).
بهبود از طریق:
تقسیم کد با React.lazy/Suspense
تأخیر جاوااسکریپت غیربحرانی
اولویت‌بندی محتوای بالای صفحه
استفاده از رندرینگ سمت سرور (SSR) + تکنیک‌های تأخیر هیدراتاسیون



const HeavyComponent = React.lazy(() => import('./heavy'));



8. فرآیند شما برای شناسایی و حذف منابع مسدودکننده رندر در یک برنامه React چیست؟
پاسخ:

ممیزی با Lighthouse/DevTools برای مسیرهای بحرانی مسدودشده.
تأخیر یا پیش‌بارگذاری فونت‌ها و استایل‌ها:

<link rel="preload" as="style" href="style.css" />


به حداقل رساندن و درون‌خطی کردن CSS بحرانی.
بارگذاری جاوااسکریپت غیربحرانی با defer یا async.

پلاگین‌های وب‌پک مثل mini-css-extract-plugin + استخراج‌کننده‌های CSS بحرانی به خودکارسازی این کمک می‌کنند.


9. چگونه یک تیم را برای پایبندی به بودجه عملکرد در یک کدبیس React آموزش می‌دهید؟
پاسخ:

ایجاد یک کتابچه عملکرد مشترک (ابزارها، بودجه‌ها، بهترین روش‌ها).
جاسازی گزارش‌های Lighthouse و حجم بسته در بررسی‌های PR.
برگزاری جلسات جفت‌سازی عملکرد و بررسی‌های کد.
برجسته کردن رگرسیون‌ها در بازنگری‌ها.
نمایش موفقیت‌ها (مثل بهبودهای TTI) برای ایجاد فرهنگ اولویت‌دهی به عملکرد.



10. رویکرد شما برای حفظ بودجه عملکرد با مقیاس‌پذیری یک برنامه React در طول زمان چیست؟

عملکرد را به‌عنوان یک قرارداد زنده در نظر بگیرید و بودجه‌ها را هر سه ماه بازبینی کنید.
استفاده از ابزارهای RUM (مثل SpeedCurve، NewRelic) برای نظارت بر عملکرد دنیای واقعی.
نسخه‌بندی و ردیابی رگرسیون‌ها از طریق داشبوردهای CI.
تنظیم قوانین برای اسپرینت‌های بدهی فنی و ممیزی‌های دوره‌ای بسته.
نگه داشتن یک پشتیبان عملکرد اختصاصی برای رفع انحراف بودجه.



